<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Register</title>
  <script>
    function validateForm() {
      const username = document.forms["regForm"]["username"].value;
      const email = document.forms["regForm"]["email"].value;
      const password = document.forms["regForm"]["password"].value;
      const confirm_password = document.forms["regForm"]["confirm_password"].value;

      const emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;

      if (!username || !email || !password || !confirm_password) {
        alert("All fields are required.");
        return false;
      }

      if (!emailPattern.test(email)) {
        alert("Please enter a valid email.");
        return false;
      }

      if (password !== confirm_password) {
        alert("Passwords do not match.");
        return false;
      }

      return true;
    }
  </script>
</head>
<body>
  <h2>Register</h2>
  <form name="regForm" method="post" onsubmit="return validateForm();">
    {% csrf_token %}
    {{ form.as_p }}
    <input type="submit" value="Register">
  </form>
</body>
</html>
